{"version":3,"sources":["images/logo.png","reducers/reposReducer.js","reducers/index.js","actions/types.js","store.js","components/login/index.js","components/header/index.js","components/searchBar/index.js","App.js","index.js"],"names":["module","exports","initialState","query","items","loading","loggedIn","combineReducers","repos","state","action","type","payload","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","connect","useState","email","setEmail","password","setPassword","login","setLogin","dispatch","useDispatch","className","data-test","onSubmit","e","preventDefault","data","JSON","stringify","xhr","XMLHttpRequest","addEventListener","this","readyState","responseText","alert","open","setRequestHeader","send","src","logo","alt","width","height","placeholder","onChange","target","value","required","useSelector","console","log","onClick","setQuery","fetchAnswer","useCallback","fetch","then","res","json","catch","error","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e83f6d0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.6d3018f2.png\";","import { SAVE_REPOS, SAVE_QUERY, LOADING, LOGIN_STATUS, CLEAR_ITEMS } from '../actions/types';\n\nconst initialState = {\n    query: '',\n    items: [],\n    loading: false,\n    loggedIn: false,   \n}\n\nexport default function (state = initialState, action) {\n    switch(action.type) {\n        // case FETCH_REPOS:\n        //     return {\n        //         ...state,\n        //         items: action.payload.items || [],\n        //         query: state.query,\n        //         loading: false,\n        //         currentPage: state.currentPage,\n        //     };\n        case SAVE_REPOS:\n            return {\n                ...state,\n                items: action.payload\n            }\n        case SAVE_QUERY:\n            return {\n                ...state,\n                query: action.payload,\n            };\n        case LOADING:\n            return {\n                ...state,\n                loading: true,\n            };\n        case LOGIN_STATUS:\n            return {\n                ...state,\n                loggedIn: action.payload,\n            };\n        case CLEAR_ITEMS:\n            return {\n                ...state,\n                items: [],\n            };\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport reposReducer from './reposReducer';\n\nexport default combineReducers({\n    repos: reposReducer\n});","export const FETCH_REPOS = 'FETCH_REPOS';\nexport const SAVE_REPOS = 'SAVE_REPOS';\nexport const SAVE_QUERY = 'SAVE_QUERY';\nexport const LOADING = 'LOADING';\nexport const LOGIN_STATUS = 'LOGIN_STATUS';\nexport const CLEAR_ITEMS = 'CLEAR_ITEMS';","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer, \n    initialState,\n    compose(\n        applyMiddleware(...middleware),\n        // window.__REDUX_DEVTOOLS_EXTENSION__&& window.__REDUX_DEVTOOLS_EXTENSION__()\n        // The above line had to be commented out in order to use dev tools without issues on tablet/phone\n        window.__REDUX_DEVTOOLS_EXTENSION__\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\n        : f => f\n    )\n);\n\nexport default store;","import React, { useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nconst Login = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [login, setLogin] = useState('Login');\n\n    const dispatch = useDispatch();\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        //Let user know that an action was taken.\n        setLogin('Loading...');\n\n        var data = JSON.stringify({\n            \"email\": email,\n            \"password\": password                                                  \n        });\n\n        var xhr = new XMLHttpRequest();\n\n        xhr.addEventListener(\"readystatechange\", function () {\n            if (this.readyState === 4) {\n                const authenticated = this.responseText[2];\n                // If the responseText has 'auth_token', then the credentials were accepted.\n                if (authenticated === 'a') {\n                    dispatch({type:\"LOGIN_STATUS\", payload: true});\n                }\n                else {\n                    alert(\"Incorrect Email/Password, please try again\");\n                    setEmail('');\n                    setPassword('');\n                    setLogin('Login');\n                }\n            }\n\n        });\n\n        xhr.open(\"POST\", \"https://arcane-scrubland-64110.herokuapp.com/auth/login\");\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n        xhr.send(data);\n    };\n\n    // fetch(\"https://opendata.rdw.nl/resource/m9d7-ebf2.json\")\n    //     .then(res => res.json())\n    //     .then(res => {\n    //         console.log({res});\n    //     })\n    //     .catch(error => {\n    //         console.error({error});\n    //     });\n\n    return (\n        <div className=\"login\" data-test=\"loginComponent\">\n            <form className=\"loginForm\" onSubmit={handleSubmit}>\n                <img src={logo} alt=\"logo\" data-test=\"loginLogo\" width=\"60\" height=\"60\" />\n                <h1>Gotcha</h1>\n                <div className=\"email\">\n                    <label>Email:</label>\n                    <input type=\"email\" data-test=\"loginEmail\" placeholder=\"Email\" onChange={handleEmailChange} />\n                </div>\n                <div className=\"password\">\n                    <label>Password:</label>\n                    <input type=\"password\" data-test=\"loginPassword\" placeholder=\"Password\" onChange={handlePasswordChange} required/>\n                </div>\n                <input type=\"submit\" value={login} data-test=\"loginSubmit\" />\n            </form>\n        </div>\n    )\n}\n\nexport default connect(null)(Login);","import React from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nfunction Header() {\n    const dispatch = useDispatch();\n    const state = useSelector((state) => state.repos);\n    const login = state.loggedIn;\n    console.log(state, login);\n\n    const logout = () => {\n        dispatch({type:\"LOGIN_STATUS\", payload: false});\n    };\n\n    return (\n        <div className=\"header\" data-test=\"headerComponent\">\n            <img src={logo} alt=\"logo\" data-test=\"headerLogo\" width=\"40\" height=\"40\" />\n            <h2 data-test=\"headerCompanyName\">Gotcha</h2>\n            <button className=\"logout\" onClick={logout} data-test=\"logout\">Logout</button>\n        </div>\n    )\n}\n\nexport default connect(null)(Header);\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport './styles.scss';\n\nconst SearchBar = () => {\n\n    const dispatch = useDispatch();\n    const state = useSelector((state) => state);\n    // eslint-disable-next-line\n    const [query, setQuery] = useState('');\n    console.log(state);\n\n    const fetchAnswer = useCallback(() => {\n        fetch(\"https://opendata.rdw.nl/resource/m9d7-ebf2.json\")\n        .then(res => res.json())\n        .then(res => {\n            console.log({ res });\n            dispatch({type:\"SAVE_REPOS\", payload: res});\n        })\n        .catch(error => {\n            console.error({error});\n        })\n    }, [dispatch]);\n\n    useEffect(() => {\n        fetchAnswer();\n    }, [fetchAnswer]);\n\n\n    const handleSearch = (e) => {\n        setQuery(e.target.value);\n        //This makes sure the entire search is sent, sometimes it sends before query has updated.\n        let query = e.target.value;\n        dispatch({ type: \"SAVE_QUERY\", payload: query });\n    };\n\n    return (\n        <div className=\"search\">\n            <input type=\"search\" placeholder=\"Search for vehicle here...\" onChange={handleSearch} />     \n        </div>\n    )\n}\n\nexport default connect(null)(SearchBar);\n","import React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport Login from './components/login';\nimport Header from './components/header';\nimport Searchbar from './components/searchBar';\nimport './App.css';\n\nfunction App() {\n\n  const state = useSelector((state) => state.repos);\n  const login = state.loggedIn;\n  console.log(state, login);\n\n  return (\n    <div className=\"App\">\n      { !login ? <Login /> : null}\n      { login ? <Header />  : null}\n      { login ? <Searchbar />: null} \n    </div>\n  );\n}\n\nexport default connect(null)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}