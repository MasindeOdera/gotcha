{"version":3,"sources":["reducers/reposReducer.js","reducers/index.js","actions/types.js","store.js","components/login/index.js","components/header/index.js","components/searchBar/index.js","components/results/index.js","App.js","index.js","images/logo.png"],"names":["initialState","query","choice","loading","loggedIn","solution","combineReducers","repos","state","action","type","payload","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","connect","useState","email","setEmail","password","setPassword","login","setLogin","dispatch","useDispatch","className","data-test","onSubmit","e","preventDefault","data","JSON","stringify","xhr","XMLHttpRequest","addEventListener","this","readyState","responseText","alert","open","setRequestHeader","send","src","logo","alt","width","height","placeholder","onChange","target","value","required","useSelector","console","log","Image","floated","size","onClick","setQuery","fetch","then","res","json","vehicle","length","catch","error","Card","Content","Header","merk","Meta","kenteken","Description","handelsbenaming","voertuigsoort","eerste_kleur","aantal_zitplaatsen","catalogusprijs","extra","Button","basic","color","Group","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4c1318c5.chunk.js","sourcesContent":["import { SAVE_QUERY, SAVE_CHOICE, LOADING, LOGIN_STATUS, SOULTION_FOUND } from '../actions/types';\n\nconst initialState = {\n    query: '',\n    choice: [],\n    loading: false,\n    loggedIn: false,\n    solution: false,\n}\n\nexport default function (state = initialState, action) {\n    switch(action.type) {\n        case SAVE_QUERY:\n            return {\n                ...state,\n                query: action.payload,\n            };\n        case SAVE_CHOICE:\n            return {\n                ...state,\n                choice: action.payload,\n            };\n        case LOADING:\n            return {\n                ...state,\n                loading: true,\n            };\n        case LOGIN_STATUS:\n            return {\n                ...state,\n                loggedIn: action.payload,\n            };\n        case SOULTION_FOUND:\n            return {\n                ...state,\n                solution: action.payload,\n            };\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport reposReducer from './reposReducer';\n\nexport default combineReducers({\n    repos: reposReducer\n});","export const SAVE_QUERY = 'SAVE_QUERY';\nexport const SAVE_CHOICE = 'SAVE_CHOICE';\nexport const LOADING = 'LOADING';\nexport const LOGIN_STATUS = 'LOGIN_STATUS';\nexport const SOULTION_FOUND = 'SOULTION_FOUND';","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer, \n    initialState,\n    compose(\n        applyMiddleware(...middleware),\n        // window.__REDUX_DEVTOOLS_EXTENSION__&& window.__REDUX_DEVTOOLS_EXTENSION__()\n        // The above line had to be commented out in order to use dev tools without issues on tablet/phone\n        window.__REDUX_DEVTOOLS_EXTENSION__\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\n        : f => f\n    )\n);\n\nexport default store;","import React, { useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nconst Login = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [login, setLogin] = useState('Login');\n\n    const dispatch = useDispatch();\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        //Let user know that an action was taken.\n        setLogin('Loading...');\n\n        var data = JSON.stringify({\n            \"email\": email,\n            \"password\": password                                                  \n        });\n\n        var xhr = new XMLHttpRequest();\n\n        xhr.addEventListener(\"readystatechange\", function () {\n            if (this.readyState === 4) {\n                const authenticated = this.responseText[2];\n                // If the responseText has 'auth_token', then the credentials were accepted.\n                if (authenticated === 'a') {\n                    dispatch({type:\"LOGIN_STATUS\", payload: true});\n                }\n                else {\n                    alert(\"Incorrect Email/Password, please try again\");\n                    setEmail('');\n                    setPassword('');\n                    setLogin('Login');\n                }\n            }\n\n        });\n\n        xhr.open(\"POST\", \"https://arcane-scrubland-64110.herokuapp.com/auth/login\");\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n        xhr.send(data);\n    };\n\n    return (\n        <div className=\"login\" data-test=\"loginComponent\">\n            <form className=\"loginForm\" onSubmit={handleSubmit}>\n                <img src={logo} alt=\"logo\" data-test=\"loginLogo\" width=\"60\" height=\"60\" />\n                <h1>Gotcha</h1>\n                <div className=\"email\">\n                    <label>Email:</label>\n                    <input type=\"email\" data-test=\"loginEmail\" placeholder=\"Email\" onChange={handleEmailChange} />\n                </div>\n                <div className=\"password\">\n                    <label>Password:</label>\n                    <input type=\"password\" data-test=\"loginPassword\" placeholder=\"Password\" onChange={handlePasswordChange} required/>\n                </div>\n                <input type=\"submit\" value={login} data-test=\"loginSubmit\" />\n            </form>\n        </div>\n    )\n}\n\nexport default connect(null)(Login);","import React from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { Image } from 'semantic-ui-react';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nfunction Header() {\n    const dispatch = useDispatch();\n    const state = useSelector((state) => state.repos);\n    const login = state.loggedIn;\n    console.log(state, login);\n\n    const logout = () => {\n        dispatch({type:\"LOGIN_STATUS\", payload: false});\n    };\n\n    return (\n        <div className=\"titleHead\" data-test=\"headerComponent\">\n            <Image className=\"companyLogo\" src={logo} alt=\"logo\" data-test=\"headerLogo\" floated='left' size='tiny' />\n            <h2 data-test=\"headerCompanyName\">Gotcha</h2>\n            <button className=\"logout\" onClick={logout} data-test=\"logout\">Logout</button>\n        </div>\n    )\n}\n\nexport default connect(null)(Header);\n","import React, { useState } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport './styles.scss';\n\nconst SearchBar = () => {\n\n    const dispatch = useDispatch();\n    const state = useSelector((state) => state);\n    // eslint-disable-next-line\n    const [query, setQuery] = useState('');\n    console.log(state);\n\n    // const fetchAnswer = useCallback(() => {\n    //     fetch(\"https://opendata.rdw.nl/resource/m9d7-ebf2.json\")\n    //     .then(res => res.json())\n    //     .then(res => {\n    //         console.log({ res });\n    //         dispatch({type:\"SAVE_REPOS\", payload: res});\n    //     })\n    //     .catch(error => {\n    //         console.error({error});\n    //     })\n    // }, [dispatch]);\n\n    // useEffect(() => {\n    //     fetchAnswer();\n    // }, [fetchAnswer]);\n\n\n    const handleSearch = (e) => {\n        setQuery(e.target.value);\n        //This makes sure the entire search is sent, sometimes it sends before query has updated.\n        let query = e.target.value;\n        dispatch({ type: \"SAVE_QUERY\", payload: query });\n    };\n\n    const handleQuery = (e) => {\n        e.preventDefault();\n        fetch(`https://opendata.rdw.nl/resource/m9d7-ebf2.json?kenteken=${query}`)\n        .then(res => res.json())\n        .then(vehicle => {\n            console.log({ vehicle });\n            console.log(vehicle[0], vehicle.length);\n            let choice = vehicle[0];\n            dispatch({ type: \"SAVE_CHOICE\", payload: choice });\n            if (vehicle.length > 0) {\n                dispatch({ type: \"SOULTION_FOUND\", payload: true });\n            }\n            else {\n                dispatch({ type: \"SOULTION_FOUND\", payload: false });\n            }\n        })\n        .catch(error => {\n            console.error({error});\n        })\n    };\n\n    return (\n        <div className=\"search\">\n            <form onSubmit={handleQuery}>\n                <input type=\"search\" placeholder=\"Search for license plate...\" onChange={handleSearch} />\n            </form>\n        </div>\n    )\n}\n\nexport default connect(null)(SearchBar);\n","import React, { useEffect, useState } from 'react';\nimport { Button, Card, Image } from 'semantic-ui-react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nconst Results = () => {\n\n    const dispatch = useDispatch();\n    const state = useSelector((state) => state.repos);\n    const choice = state.choice;\n    const solution = state.solution;\n    console.log(state, choice);\n\n    const vehicle = solution ? <Card>\n        <Card.Content>\n            <Image\n                floated='right'\n                size='tiny'\n                src={logo}\n            />\n            <Card.Header>Car: {choice.merk}</Card.Header>\n            <Card.Meta>License Plate: {choice.kenteken}</Card.Meta>\n            <Card.Description>\n                <strong>Commercial Name:</strong> {choice.handelsbenaming}\n                    </Card.Description>\n            <Card.Description>\n                <strong>Type:</strong> {choice.voertuigsoort}\n                    </Card.Description>\n            <Card.Description>\n                <strong>First Color:</strong> {choice.eerste_kleur}\n                    </Card.Description>\n            <Card.Description>\n                <strong>Number of seats:</strong> {choice.aantal_zitplaatsen}\n                    </Card.Description>\n            <Card.Description>\n                <strong>Catalog price:</strong> €{choice.catalogusprijs}\n                    </Card.Description>\n        </Card.Content>\n        <Card.Content extra>\n            <div className='ui two buttons'>\n                <Button basic color='green'>\n                    Save\n                    </Button>\n                <Button basic color='red'>\n                    Ignore\n                    </Button>\n            </div>\n        </Card.Content>\n    </Card> : null;\n\n    return (\n        <div className=\"results\">\n            {solution ? <h1>Matching Vehicle:</h1> : null}\n            <Card.Group>\n                { vehicle }\n            </Card.Group>\n        </div>\n    )\n}\n\nexport default connect(null)(Results);\n","import React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport Login from './components/login';\nimport Header from './components/header';\nimport Searchbar from './components/searchBar';\nimport Results from './components/results';\nimport './App.css';\n\nfunction App() {\n\n  const state = useSelector((state) => state.repos);\n  const login = state.loggedIn;\n  console.log(state, login);\n\n  return (\n    <div className=\"App\">\n      { !login ? <Login /> : null}\n      { login ? <Header />  : null}\n      { login ? <Searchbar />: null} \n      { login ? <Results /> : null} \n    </div>\n  );\n}\n\nexport default connect(null)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.6d3018f2.png\";"],"sourceRoot":""}