{"version":3,"sources":["reducers/reposReducer.js","reducers/index.js","actions/types.js","store.js","components/login/index.js","components/header/index.js","components/searchBar/index.js","components/results/index.js","App.js","index.js","images/logo.png"],"names":["initialState","query","choice","loading","loggedIn","solution","photo","authentication","combineReducers","repos","state","action","type","payload","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","connect","useState","email","setEmail","password","setPassword","login","setLogin","dispatch","useDispatch","className","data-test","onSubmit","e","preventDefault","data","JSON","stringify","xhr","XMLHttpRequest","addEventListener","this","readyState","responseText","alert","open","setRequestHeader","send","src","logo","alt","width","height","placeholder","onChange","target","value","required","Image","floated","size","onClick","useSelector","setQuery","fetch","then","res","json","vehicle","console","log","length","catch","error","merk","uri","items","pagemap","cse_thumbnail","undefined","image","Card","Content","Header","Meta","kenteken","Description","handelsbenaming","voertuigsoort","eerste_kleur","aantal_zitplaatsen","catalogusprijs","extra","Button","basic","color","Group","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.3cb89453.chunk.js","sourcesContent":["import { SAVE_QUERY, SAVE_CHOICE, LOADING, LOGIN_STATUS, SOLUTION_FOUND, ADD_PHOTO, SAVE_AUTHENTICATION } from '../actions/types';\n\nconst initialState = {\n    query: '',\n    choice: [],\n    loading: false,\n    loggedIn: false,\n    solution: false,\n    photo: '',\n    authentication: [],\n}\n\nexport default function (state = initialState, action) {\n    switch(action.type) {\n        case SAVE_QUERY:\n            return {\n                ...state,\n                query: action.payload,\n            };\n        case SAVE_CHOICE:\n            return {\n                ...state,\n                choice: action.payload,\n            };\n        case LOADING:\n            return {\n                ...state,\n                loading: true,\n            };\n        case LOGIN_STATUS:\n            return {\n                ...state,\n                loggedIn: action.payload,\n            };\n        case SOLUTION_FOUND:\n            return {\n                ...state,\n                solution: action.payload,\n            };\n        case ADD_PHOTO:\n            return {\n                ...state,\n                photo: action.payload,\n            };\n        case SAVE_AUTHENTICATION:\n            return {\n                ...state,\n                authentication: action.payload,\n            };\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport reposReducer from './reposReducer';\n\nexport default combineReducers({\n    repos: reposReducer\n});","export const SAVE_QUERY = 'SAVE_QUERY';\nexport const SAVE_CHOICE = 'SAVE_CHOICE';\nexport const LOADING = 'LOADING';\nexport const LOGIN_STATUS = 'LOGIN_STATUS';\nexport const SOLUTION_FOUND = 'SOLUTION_FOUND';\nexport const ADD_PHOTO = 'ADD_PHOTO';\nexport const SAVE_AUTHENTICATION = 'SAVE_AUTHENTICATION';","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer, \n    initialState,\n    compose(\n        applyMiddleware(...middleware),\n        // window.__REDUX_DEVTOOLS_EXTENSION__&& window.__REDUX_DEVTOOLS_EXTENSION__()\n        // The above line had to be commented out in order to use dev tools without issues on tablet/phone\n        window.__REDUX_DEVTOOLS_EXTENSION__\n        ? window.__REDUX_DEVTOOLS_EXTENSION__()\n        : f => f\n    )\n);\n\nexport default store;","import React, { useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nconst Login = () => {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [login, setLogin] = useState('Login');\n\n    const dispatch = useDispatch();\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        //Let user know that an action was taken.\n        setLogin('Loading...');\n\n        var data = JSON.stringify({\n            \"email\": email,\n            \"password\": password                                                  \n        });\n\n        var xhr = new XMLHttpRequest();\n\n        xhr.addEventListener(\"readystatechange\", function () {\n            if (this.readyState === 4) {\n                let authentication = this.responseText;\n                const authenticated = this.responseText[2];\n                // If the responseText has 'auth_token', then the credentials were accepted.\n                if (authenticated === 'a') {\n                    dispatch({type:\"LOGIN_STATUS\", payload: true});\n                    dispatch({type:\"SAVE_AUTHENTICATION\", payload: authentication});\n                }\n                else {\n                    alert(\"Incorrect Email/Password, please try again\");\n                    setEmail('');\n                    setPassword('');\n                    setLogin('Login');\n                }\n            }\n\n        });\n\n        xhr.open(\"POST\", \"https://arcane-scrubland-64110.herokuapp.com/auth/login\");\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n        xhr.send(data);\n    };\n\n    return (\n        <div className=\"login\" data-test=\"loginComponent\">\n            <form className=\"loginForm\" onSubmit={handleSubmit}>\n                <img src={logo} alt=\"logo\" data-test=\"loginLogo\" width=\"60\" height=\"60\" />\n                <h1>Gotcha</h1>\n                <div className=\"email\">\n                    <label>Email:</label>\n                    <input type=\"email\" data-test=\"loginEmail\" placeholder=\"Email\" onChange={handleEmailChange} />\n                </div>\n                <div className=\"password\">\n                    <label>Password:</label>\n                    <input type=\"password\" data-test=\"loginPassword\" placeholder=\"Password\" onChange={handlePasswordChange} required/>\n                </div>\n                <input type=\"submit\" value={login} data-test=\"loginSubmit\" />\n            </form>\n        </div>\n    )\n}\n\nexport default connect(null)(Login);","import React from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { Image } from 'semantic-ui-react';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nfunction Header() {\n    const dispatch = useDispatch();\n\n    const logout = () => {\n        dispatch({type:\"LOGIN_STATUS\", payload: false});\n    };\n\n    return (\n        <div className=\"titleHead\" data-test=\"headerComponent\">\n            <Image className=\"companyLogo\" src={logo} alt=\"logo\" data-test=\"headerLogo\" floated='left' size='tiny' />\n            <h2 data-test=\"headerCompanyName\">Gotcha</h2>\n            <button className=\"logout\" onClick={logout} data-test=\"logout\">Logout</button>\n        </div>\n    )\n}\n\nexport default connect(null)(Header);\n","import React, { useState } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport './styles.scss';\n\nconst SearchBar = () => {\n\n    const dispatch = useDispatch();\n    // eslint-disable-next-line\n    const state = useSelector((state) => state);\n    // eslint-disable-next-line\n    const [query, setQuery] = useState('');\n\n\n    const handleSearch = (e) => {\n        setQuery(e.target.value);\n        //This makes sure the entire search is sent, sometimes it sends before query has updated.\n        let query = e.target.value;\n        dispatch({ type: \"SAVE_QUERY\", payload: query });\n    };\n\n    const handleQuery = (e) => {\n        e.preventDefault();\n        fetch(`https://opendata.rdw.nl/resource/m9d7-ebf2.json?kenteken=${query}`)\n        .then(res => res.json())\n        .then(vehicle => {\n            console.log({ vehicle });\n            console.log(vehicle[0], vehicle.length);\n            let choice = vehicle[0];\n            dispatch({ type: \"SAVE_CHOICE\", payload: choice });\n            if (vehicle.length > 0) {\n                dispatch({ type: \"SOLUTION_FOUND\", payload: true });\n            }\n            else {\n                dispatch({ type: \"SOLUTION_FOUND\", payload: false });\n            }\n        })\n        .catch(error => {\n            console.error({error});\n        })\n    };\n\n    return (\n        <div className=\"search\">\n            <form onSubmit={handleQuery}>\n                <input type=\"search\" placeholder=\"Search for license plate...\" onChange={handleSearch} />\n            </form>\n        </div>\n    )\n}\n\nexport default connect(null)(SearchBar);\n","import React from 'react';\nimport { Button, Card, Image } from 'semantic-ui-react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport logo from '../../images/logo.png';\nimport './styles.scss';\n\nconst Results = () => {\n\n    const dispatch = useDispatch();\n    const state = useSelector((state) => state.repos);\n    const choice = state.choice;\n    const solution = state.solution;\n    const photo = state.photo;\n\n    //If a vehicle has been fond via license plate, then look for image.\n    if (solution) {\n        let query = choice.merk;\n        let uri = `https://www.googleapis.com/customsearch/v1?q=${query}&cx=009973936156204013139%3Anrb9qxuk0na&num=1&key=AIzaSyCDfpyxYE4gK2zgNltdbAjEATo5fcP5uq8`;\n        fetch(uri)\n        .then(res => res.json())\n        .then(res => {\n            console.log(\"Photo:\", res);\n            let photo = res.items[0].pagemap.cse_thumbnail[0].src;\n            console.log(photo);\n            if (photo !== undefined) {\n                dispatch({ type: \"ADD_PHOTO\", payload: photo });\n            }\n        })\n        .catch(error => {\n            console.error({error});\n        })\n    }\n\n    const sendToBackend = () => {\n        //\n    };\n\n    //If there is an image available, use it, otherwise use logo as default.\n    const image = solution && photo ? photo : logo;\n\n    const vehicle = solution ? <Card>\n        <Card.Content>\n            <Image\n                floated='right'\n                size='tiny'\n                src={image}\n            />\n            <Card.Header>Car: {choice.merk}</Card.Header>\n            <Card.Meta>License Plate: {choice.kenteken}</Card.Meta>\n            <Card.Description>\n                <strong>Commercial Name:</strong> {choice.handelsbenaming}\n                    </Card.Description>\n            <Card.Description>\n                <strong>Type:</strong> {choice.voertuigsoort}\n                    </Card.Description>\n            <Card.Description>\n                <strong>First Color:</strong> {choice.eerste_kleur}\n                    </Card.Description>\n            <Card.Description>\n                <strong>Number of seats:</strong> {choice.aantal_zitplaatsen}\n                    </Card.Description>\n            <Card.Description>\n                <strong>Catalog price:</strong> â‚¬{choice.catalogusprijs}\n                    </Card.Description>\n        </Card.Content>\n        <Card.Content extra>\n            <div className='ui two buttons'>\n                <Button basic color='green' onClick={sendToBackend}>\n                    Save\n                    </Button>\n                <Button basic color='red'>\n                    Ignore\n                    </Button>\n            </div>\n        </Card.Content>\n    </Card> : null;\n\n    return (\n        <div className=\"results\">\n            {solution ? <h1>Matching Vehicle:</h1> : null}\n            <Card.Group>\n                { vehicle }\n            </Card.Group>\n        </div>\n    )\n}\n\nexport default connect(null)(Results);\n","import React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport Login from './components/login';\nimport Header from './components/header';\nimport Searchbar from './components/searchBar';\nimport Results from './components/results';\nimport './App.css';\n\nfunction App() {\n\n  const state = useSelector((state) => state.repos);\n  const login = state.loggedIn;\n\n  return (\n    <div className=\"App\">\n      { !login ? <Login /> : null}\n      { login ? <Header />  : null}\n      { login ? <Searchbar />: null} \n      { login ? <Results /> : null} \n    </div>\n  );\n}\n\nexport default connect(null)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.6d3018f2.png\";"],"sourceRoot":""}